(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{209:function(t,e,n){t.exports=n(344)},214:function(t,e,n){},344:function(t,e,n){"use strict";n.r(e);var a={};n.r(a),n.d(a,"joinSession",function(){return b}),n.d(a,"createSession",function(){return y}),n.d(a,"checkWord",function(){return v}),n.d(a,"startGame",function(){return g}),n.d(a,"selectedLetters",function(){return j}),n.d(a,"finishGame",function(){return E}),n.d(a,"getScores",function(){return x});var o=n(0),r=n.n(o),i=n(25),c=n.n(i),s=(n(214),n(7)),u=n(11),l=n(13),p=n(12),d=n(14),m=n(125),h=r.a.createContext({}),f="ws:fast-depths-95952.herokuapp.com",b=function(t){return{action:"joinRoom",options:{sessionID:t}}},y=function(){return{action:"createRoom"}},v=function(t){return{action:"checkWord",options:{word:t}}},g=function(){return{action:"startGame"}},j=function(t){return{action:"selectedLetters",options:{positions:t}}},E=function(){return{action:"finishGame"}},x=function(){return{action:"getScores"}},k=function t(e,n,o){var r=this;Object(s.a)(this,t),this.websocket=new WebSocket(f),this.websocket.onopen=n,this.websocket.onclose=o,this.websocket.onmessage=function(t){e(JSON.parse(t.data))},this.actions={},Object.entries(a).forEach(function(t){r.actions[t[0]]=function(){return r.websocket.send(JSON.stringify(t[1].apply(t,arguments)))}})},O=n(23),w=n(24);function C(){var t=Object(O.a)(["\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n\n    color: #fff;\n\tbackground: linear-gradient(-45deg, #EE7752, #E73C7E, #23A6D5, #23D5AB);\n\tbackground-size: 400% 400%;\n\t-webkit-animation: Gradient 40s ease infinite;\n\t-moz-animation: Gradient 40s ease infinite;\n\tanimation: Gradient 40s ease infinite;\n\n    @-webkit-keyframes Gradient {\n\t0% {\n\t\tbackground-position: 0% 50%\n\t}\n\t50% {\n\t\tbackground-position: 100% 50%\n\t}\n\t100% {\n\t\tbackground-position: 0% 50%\n\t}\n}\n\n@-moz-keyframes Gradient {\n\t0% {\n\t\tbackground-position: 0% 50%\n\t}\n\t50% {\n\t\tbackground-position: 100% 50%\n\t}\n\t100% {\n\t\tbackground-position: 0% 50%\n\t}\n}\n\n@keyframes Gradient {\n\t0% {\n\t\tbackground-position: 0% 50%\n\t}\n\t50% {\n\t\tbackground-position: 100% 50%\n\t}\n\t100% {\n\t\tbackground-position: 0% 50%\n\t}\n}\n"]);return C=function(){return t},t}var S=w.a.div(C());function T(){var t=Object(O.a)(["\n    display: inline-block;\n"]);return T=function(){return t},t}function D(){var t=Object(O.a)(["\n    text-align:center;\n    margin-top: 1rem;\n"]);return D=function(){return t},t}var I=w.a.div(D()),G=w.a.div(T()),L=function(t){var e=t.children;return r.a.createElement(I,null,r.a.createElement(G,null,e))},B=n(52),M=n.n(B);function R(){var t=Object(O.a)(["\n    text-transform: none !important;\n"]);return R=function(){return t},t}var P=Object(w.a)(M.a)(R()),W=function(t){return r.a.createElement(P,Object.assign({variant:"contained",color:"primary"},t))},F=n(2),A=n(15);function U(){var t=Object(O.a)(['\n    &:before {\n        content: "";\n        width: 70px;\n        background-color: #f0ca7d;    \n        display: block;\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 50%;\n        z-index: 10;\n        animation: dropsand 4s infinite ease-in-out;\n    }\n    \n    &:after {\n        content: "";\n        width: 0; \n        height: 0; \n        display: block;\n        position: absolute; \n            border-left: 0px solid transparent;\n            border-right: 70px solid transparent;\n        border-top: 100px solid rgba(255,255,255, 0.4);\n        z-index: 20;\n        }\n\n    @keyframes dropsand {\n        0% { \n            bottom: 50%; \n        }\n        \n        35% {\n            bottom: 0%;\n            top: 50%;\n        }\n        \n        50% {\n            bottom: 0%;\n            top: 50%;\n        }\n        \n        85% {\n            top: 0;\n            bottom: 50%; \n        }\n    }\n']);return U=function(){return t},t}function z(){var t=Object(O.a)(['\n width: 70px;\n  height: 100px;\n  background-color: #7de3f5;\n  margin: 40px auto;\n  position: relative;\n  overflow: hidden;\n  -webkit-animation: rotateGlass 4s infinite ease-in-out;\n  \n  &:before {\n    content: "";\n    width: 0; \n    height: 0; \n    display: block;\n    position: absolute; \n    z-index: 30;\n    border-top: 50px solid transparent;\n    border-bottom: 50px solid transparent;\n\t\n\t  border-left: 30px solid #ffffff;\n  }\n\n  &:after {\n    content: "";\n    width: 0; \n    height: 0; \n    right: 0;\n    display: block;\n    position: absolute; \n    z-index: 30;\n    border-top: 50px solid transparent;\n    border-bottom: 50px solid transparent;\n\tborder-right: 30px solid #ffffff;\n  }\n\n    @keyframes rotateGlass {\n        40% {\n            -webkit-transform: rotate(0deg);\n        }\n        50% {\n            -webkit-transform: rotate(180deg);\n        }\n        90% {\n            -webkit-transform: rotate(180deg);\n        }\n        100% {\n            -webkit-transform: rotate(0deg);\n        }\n    }\n']);return z=function(){return t},t}var J=w.a.div(z()),Y=w.a.div(U()),H=function(){return r.a.createElement(J,null,r.a.createElement(Y,null))},N=function(t){function e(){return Object(s.a)(this,e),Object(l.a)(this,Object(p.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(u.a)(e,[{key:"componentDidUpdate",value:function(){this.context.sessionID&&this.props.history.push("/room")}},{key:"render",value:function(){var t=this,e=this.context.actions;return r.a.createElement(o.Fragment,null,r.a.createElement(F.f,{variant:"display2",gutterBottom:!0},"Do you want to host or join a game?"),r.a.createElement(H,null),r.a.createElement(F.d,{container:!0,direction:"row",justify:"flex-end",spacing:8},r.a.createElement(F.d,{item:!0},r.a.createElement(W,{onClick:function(){return e.createSession()}},"Host game")),r.a.createElement(F.d,{item:!0},r.a.createElement(W,{onClick:function(){return t.props.history.push("/join")}},"Join game"))))}}]),e}(r.a.Component);N.contextType=h;var q=Object(A.d)(N),X=n(53),$=n.n(X),K=function(t){return r.a.createElement($.a,Object.assign({color:"secondary"},t))},Q=function(t){function e(){return Object(s.a)(this,e),Object(l.a)(this,Object(p.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(u.a)(e,[{key:"componentDidMount",value:function(){this.context.sessionID||this.props.history.push("/")}},{key:"componentDidUpdate",value:function(){this.context.readyToPlay&&this.props.history.push("/settings")}},{key:"render",value:function(){var t=this.context.sessionID;return r.a.createElement("div",null,r.a.createElement(F.f,{variant:"h2",gutterBottom:!0},t),r.a.createElement(F.f,{variant:"headline",gutterBottom:!0},"Give this code to your friend, he knows what to do.."),r.a.createElement(K,null))}}]),e}(r.a.Component);Q.contextType=h;var V=Object(A.d)(Q),Z=function(t){return r.a.createElement(F.e,Object.assign({margin:"normal",variant:"outlined"},t))},_=function(t){function e(){var t,n;Object(s.a)(this,e);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(l.a)(this,(t=Object(p.a)(e)).call.apply(t,[this].concat(o)))).state={gameId:""},n.onJoin=function(){var t=n.state.gameId,e=n.context.actions;t&&e.joinSession(t)},n}return Object(d.a)(e,t),Object(u.a)(e,[{key:"componentDidUpdate",value:function(){this.context.readyToPlay&&this.props.history.push("/settings")}},{key:"render",value:function(){var t=this,e=this.state.gameId;return r.a.createElement(o.Fragment,null,r.a.createElement(F.f,{variant:"headline"},"Ask your friend for a secret code.."),r.a.createElement(Z,{autoFocus:!0,label:"Game id",onChange:function(e){return t.setState({gameId:e.target.value})},value:e}),r.a.createElement(F.d,{container:!0,direction:"row",justify:"flex-end"},r.a.createElement(F.d,{item:!0},r.a.createElement(W,{onClick:this.onJoin},"Join"))))}}]),e}(r.a.Component);_.contextType=h;var tt=Object(A.d)(_),et=function(t,e){return t.some(function(t){return a=e,(n=t).x===a.x&&n.y===a.y;var n,a})},nt=function(t,e){var n=t.x-e.x,a=t.y-e.y;return Math.sqrt(n*n+a*a)<2},at=function(t){return 1===t?"":"s"};function ot(){var t=Object(O.a)(["\n    margin-top: 12px;\n    margin-bottom: 12px;\n"]);return ot=function(){return t},t}function rt(){var t=Object(O.a)(["\n    width: 84px;\n    h1 {\n        color: #ffffff;\n    }\n"]);return rt=function(){return t},t}var it=Object(w.a)(W)(rt()),ct=w.a.div(ot()),st=function(t){function e(){return Object(s.a)(this,e),Object(l.a)(this,Object(p.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(u.a)(e,[{key:"render",value:function(){var t=this,e=this.context.board,n=this.props.selected;return r.a.createElement(ct,null,e.board.map(function(e,a){return r.a.createElement(F.d,{container:!0,spacing:8,key:a},e.map(function(e,o){var i=et(n,{x:a,y:o}),c=n.length>0&&!i&&!nt({x:a,y:o},n[n.length-1]);return r.a.createElement(F.d,{item:!0,xs:!0,key:o},r.a.createElement(it,{color:i?"secondary":"primary",onClick:function(){return t.props.onSelect({x:a,y:o})},disabled:c},r.a.createElement(F.f,{variant:"display3"},e)))}))}))}}]),e}(r.a.Component);st.contextType=h;var ut=st,lt=function(t){function e(){var t,n;Object(s.a)(this,e);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(l.a)(this,(t=Object(p.a)(e)).call.apply(t,[this].concat(o)))).state={timeLeft:20},n.getSecondsLeft=function(){return Math.round((new Date(n.props.endTime)-new Date)/1e3)},n}return Object(d.a)(e,t),Object(u.a)(e,[{key:"componentDidMount",value:function(){var t=this;this.timer=setInterval(function(){return t.setState({timeLeft:t.getSecondsLeft()})},200)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timer)}},{key:"componentDidUpdate",value:function(){this.state.timeLeft<=0&&(console.log(new Date(this.props.endTime)),this.props.onFinish())}},{key:"render",value:function(){var t=this.state.timeLeft;return r.a.createElement(F.f,{variant:"h4"},Math.max(t,0)," seconds left")}}]),e}(r.a.Component),pt=function(t,e){return t.slice().reverse().map(function(t){var n=e.find(function(e){return e.word===t});return n?r.a.createElement(F.d,{container:!0,spacing:8,key:t},r.a.createElement(F.d,{item:!0,xs:!0},r.a.createElement(F.f,{variant:"display1",gutterBottom:!0,color:"primary"},n.word)),r.a.createElement(F.d,{item:!0,xs:!0},r.a.createElement(F.f,{variant:"display1",gutterBottom:!0},n.points," point",at(n.points)))):r.a.createElement(F.f,{key:t,variant:"display1",gutterBottom:!0,color:"secondary"},t)})},dt=function(t){function e(){return Object(s.a)(this,e),Object(l.a)(this,Object(p.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(u.a)(e,[{key:"render",value:function(){var t=this.context,e=(t.sessionID,t.board),n=t.playerType,a=t.points,i=t.pointsOpponent,c=e.guessedWords,s=e.goodWords,u=n===e.currentTurn?a:i;return console.log(c,s),r.a.createElement(o.Fragment,null,r.a.createElement(F.f,{gutterBottom:!0,variant:"h4"},u," point",at(u)),r.a.createElement(F.c,null),r.a.createElement("div",{style:this.props.fullHeight?{}:{marginTop:12,maxHeight:300,overflowY:"auto",overflowX:"hidden"}},pt(c,s)))}}]),e}(r.a.Component);dt.contextType=h;var mt=dt;function ht(){var t=Object(O.a)(["\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    z-index: 999;\n"]);return ht=function(){return t},t}var ft=w.a.div(ht()),bt=function(t){function e(){var t;return Object(s.a)(this,e),(t=Object(l.a)(this,Object(p.a)(e).call(this))).state={gameId:"",selected:[],timeLeft:20},t.onSelect=function(e){var n=[];n=et(t.state.selected,e)?t.state.selected.slice(0,t.state.selected.length-1):t.state.selected.concat(e),t.context.actions.selectedLetters(n),t.setState({selected:n})},t.clearLetters=function(){t.context.actions.selectedLetters([]),t.setState({selected:[]})},t.checkWord=function(e){t.context.actions.checkWord(e),t.clearLetters()},t.prevPoints=0,t}return Object(d.a)(e,t),Object(u.a)(e,[{key:"componentDidMount",value:function(){this.context.board||this.props.history.push("/"),this.context.actions.selectedLetters({selected:[]})}},{key:"componentDidUpdate",value:function(){this.context.points!==this.prevPoints&&(this.prevPoints=this.context.points,this.setState({selected:[]})),this.context.opponentDisconnected&&this.props.history.push("/disconnected"),this.context.gameStarted||this.props.history.push("/results")}},{key:"render",value:function(){var t=this,e=this.state,n=(e.gameId,e.selected),a=this.context,i=(a.actions,a.board),c=a.playerType,s=a.selectedLetters;if(!i)return r.a.createElement(K,null);console.log(this.context);var u=c===i.currentTurn,l=i.endTime,p=(u?n:s).map(function(t){return i.board[t.x][t.y]}).join("");return r.a.createElement(o.Fragment,null,!u&&r.a.createElement(ft,null),r.a.createElement(F.f,{variant:"h4"},u?"It's your turn!":"Please wait for your opponent.."),l&&r.a.createElement(lt,{endTime:l,onFinish:console.log}),r.a.createElement(ut,{onSelect:this.onSelect,selected:u?n:s}),r.a.createElement(F.f,{style:{height:50},variant:"h3"},p),u&&r.a.createElement(F.d,{container:!0,direction:"row",justify:"flex-end",spacing:8},r.a.createElement(F.d,{item:!0},r.a.createElement(W,{color:"secondary",onClick:function(){return t.checkWord(p)}},"Check")),r.a.createElement(F.d,{item:!0},r.a.createElement(W,{onClick:this.clearLetters},"Clear"))),r.a.createElement(mt,null))}}]),e}(r.a.Component);bt.contextType=h;var yt=Object(A.d)(bt),vt=Object(A.d)(function(t){return r.a.createElement(o.Fragment,null,r.a.createElement(F.f,{variant:"display2"},"Sorry!"),r.a.createElement(F.f,{variant:"headline",gutterBottom:!0},"Your opponent disconnected.."),r.a.createElement(F.d,{container:!0,direction:"row",justify:"flex-end",spacing:8},r.a.createElement(F.d,{item:!0},r.a.createElement(W,{color:"primary",onClick:function(){return t.history.push("/")}},"Back"))))}),gt=n(54),jt=function(t){function e(){var t,n;Object(s.a)(this,e);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(l.a)(this,(t=Object(p.a)(e)).call.apply(t,[this].concat(o)))).state={totalRounds:n.context.totalRounds,playTime:n.context.playTime},n.handleChange=function(t,e){n.setState(Object(gt.a)({},t,e))},n}return Object(d.a)(e,t),Object(u.a)(e,[{key:"componentDidMount",value:function(){this.context.sessionID&&this.context.readyToPlay||this.props.history.push("/")}},{key:"componentDidUpdate",value:function(){this.context.opponentDisconnected&&this.props.history.push("/disconnected"),this.context.gameStarted&&this.props.history.push("/game")}},{key:"render",value:function(){var t=this,e=this.context,n=(e.sessionID,e.playerType),a=this.state,o=a.totalRounds,i=a.playTime;console.log(this.context);var c="host"===n;return r.a.createElement("div",null,r.a.createElement(F.f,{variant:"h2",gutterBottom:!0},"Game settings"),r.a.createElement(Z,{InputProps:{inputProps:{min:20,max:120}},type:"number",label:"Round play time",value:i,onChange:function(e){return t.handleChange("playTime",e.target.value)}}),r.a.createElement(Z,{InputProps:{inputProps:{min:1,max:10}},type:"number",label:"Total rounds",value:o,onChange:function(e){return t.handleChange("totalRounds",e.target.value)}}),c&&r.a.createElement(F.d,{container:!0,direction:"row",justify:"flex-end"},r.a.createElement(F.d,{item:!0},r.a.createElement(W,{onClick:this.context.actions.startGame},"Start"))))}}]),e}(r.a.Component);jt.contextType=h;var Et=Object(A.d)(jt),xt=function(t){var e,n;return n=e=function(e){function n(){var t,e;Object(s.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=Object(l.a)(this,(t=Object(p.a)(n)).call.apply(t,[this].concat(o)))).checkSession=function(){e.context.opponentDisconnected&&e.props.history.push("/disconnected"),e.context.sessionID||e.props.history.push("/")},e}return Object(d.a)(n,e),Object(u.a)(n,[{key:"componentDidMount",value:function(){this.checkSession()}},{key:"componentDidUpdate",value:function(){this.checkSession()}},{key:"render",value:function(){return this.context.sessionID?r.a.createElement(t,this.props):null}}]),n}(r.a.Component),e.contextType=h,n},kt=function(t){function e(){var t,n;Object(s.a)(this,e);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=Object(l.a)(this,(t=Object(p.a)(e)).call.apply(t,[this].concat(o)))).getAction=function(){var t=n.context,e=t.board,a=t.actions;return e.currentRound<e.totalRounds||"host"===e.currentTurn?r.a.createElement(W,{onClick:function(){return a.startGame()}},"My turn"):r.a.createElement(W,{onClick:n.finishGame},"Finish")},n.finishGame=function(){n.context.actions.finishGame()},n.checkRedirect=function(){n.context.gameStarted&&n.props.history.push("/game"),n.context.gameFinshed&&n.props.history.push("/finish")},n}return Object(d.a)(e,t),Object(u.a)(e,[{key:"componentDidUpdate",value:function(){this.checkRedirect()}},{key:"componentDidMount",value:function(){this.checkRedirect()}},{key:"render",value:function(){var t=this.context,e=(t.sessionID,t.playerType),n=t.board;console.log(this.context);var a=e===n.currentTurn;return r.a.createElement(o.Fragment,null,r.a.createElement(F.f,{variant:"headline",gutterBottom:!0},a?"Your":"Your opponents"," results of round ",n.currentRound),r.a.createElement(mt,{fullHeight:!0}),!a&&r.a.createElement(F.d,{container:!0,direction:"row",justify:"flex-end",spacing:8},r.a.createElement(F.d,{item:!0},this.getAction())))}}]),e}(r.a.Component);kt.contextType=h;var Ot=xt(Object(A.d)(kt)),wt=function(t){function e(){return Object(s.a)(this,e),Object(l.a)(this,Object(p.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(u.a)(e,[{key:"render",value:function(){var t=this,e=this.context,n=e.points,a=e.pointsOpponent,i=e.board,c=e.playerType,s=n===a,u=n>a;return r.a.createElement(o.Fragment,null,r.a.createElement(F.f,{variant:"display2",gutterBottom:!0},s?"It's a tie!":u?"You have won!":"You have lost.."),r.a.createElement(F.f,{variant:"display1",gutterBottom:!0},n," points"),r.a.createElement(F.d,{container:!0,spacing:8},i.previousRounds.filter(function(t){return t.playerType===c}).map(function(t){pt(t.guessedWords,t.goodWords)})),r.a.createElement(F.d,{container:!0,direction:"row",justify:"flex-end",spacing:8},r.a.createElement(F.d,{item:!0},r.a.createElement(W,{onClick:function(){return t.props.history.push("/scores")}},"To score board")),r.a.createElement(F.d,{item:!0},r.a.createElement(W,{onClick:function(){return t.props.history.push("/")}},"Menu"))))}}]),e}(r.a.Component);wt.contextType=h;var Ct=xt(Object(A.d)(wt)),St=n(130),Tt=function(t){function e(){return Object(s.a)(this,e),Object(l.a)(this,Object(p.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(u.a)(e,[{key:"render",value:function(){return r.a.createElement(St.a,{basename:"/boggle"},r.a.createElement(F.a,null,r.a.createElement(F.b,null,r.a.createElement(A.a,{path:"/",exact:!0,component:q}),r.a.createElement(A.a,{path:"/room",exact:!0,component:V}),r.a.createElement(A.a,{path:"/join",exact:!0,component:tt}),r.a.createElement(A.a,{path:"/game",exact:!0,component:yt}),r.a.createElement(A.a,{path:"/settings",exact:!0,component:Et}),r.a.createElement(A.a,{path:"/results",exact:!0,component:Ot}),r.a.createElement(A.a,{path:"/finish",exact:!0,component:Ct}),r.a.createElement(A.a,{path:"/disconnected",exact:!0,component:vt}))))}}]),e}(r.a.Component),Dt=function(t){function e(){var t;return Object(s.a)(this,e),(t=Object(l.a)(this,Object(p.a)(e).call(this))).initialState={points:0,connected:!1,selectedLetters:[],pointsOpponent:0,readyToPlay:!1},t.state=t.initialState,t.onMessage=function(e){t.setState(e)},t.joinGame=function(){t.setState({joinGame:!0})},t.boggle={},t}return Object(d.a)(e,t),Object(u.a)(e,[{key:"componentDidMount",value:function(){this.setState(this.initialState),this.boggle=new k(this.onMessage,this.setState({connected:!0}),console.log)}},{key:"render",value:function(){var t=this.state.connected;return console.log(t),r.a.createElement(h.Provider,{value:Object(m.a)({},this.state,{actions:this.boggle.actions})},r.a.createElement(S,null,r.a.createElement(L,null,t?r.a.createElement(Tt,null):r.a.createElement(K,null))))}}]),e}(r.a.Component),It=function(t){function e(){return Object(s.a)(this,e),Object(l.a)(this,Object(p.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(u.a)(e,[{key:"render",value:function(){return r.a.createElement(Dt,null)}}]),e}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(It,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[209,1,2]]]);
//# sourceMappingURL=main.cd4e67f2.chunk.js.map